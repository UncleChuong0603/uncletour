<!DOCTYPE html>

<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="initial-scale=1, width=device-width">
        <!-- http://getbootstrap.com/docs/5.1/ -->
        <link crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" rel="stylesheet">
        <script crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"></script>
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <!-- https://favicon.io/emoji-favicons/money-bag/ -->
        <link href="/static/img/logo.ico" rel="icon">
        <link href="/static/css/style.css" rel="stylesheet">
        <link rel="stylesheet" href="https://unpkg.com/boxicons@latest/css/boxicons.min.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Paytone+One&family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
        <title>Uncle Tour: Admin</title>
    </head>

    <body>
        <!--Header-->
        <header>
            <a id="home-logo" class="logo" href="/">Uncle Tour</a>
            <div class="bx bx-menu" id="menu-icon"></div>
        
            <ul class="navbar">
                <li><a href="/">Home</a></li>
                <li><a href="/package">Package</a></li>
                <li><a href="/destination">Destination</a></li>
                <li><a href="/contact">Contact Us</a></li>
            </ul>
        </header>

        <!--Table section-->
        <div class="table-background">
            <section class="table">
                <div class="greeting">
                    {% for user in user_database %}
                    <p>Hello, {{ user.user_name }}!</p>
                    {% endfor %}

                    <div class="logout-btn">
                        <a href="/logout">Log Out</a>
                    </div>
                </div>

                <div class="table-switch">
                    <div class="table-switch-btn">
                        <a href="" class="toggle-table" data-table="all-data">See All Data</a>
                        <a href="" class="toggle-table" data-table="ask-tour-table">Ask for Info</a>
                        <a href="" class="toggle-table" data-table="booking-table">Booking</a>
                        <a href="" class="toggle-table" data-table="user-table">User</a>
                        <a href="" class="toggle-table" data-table="subscribe-email-table">Subscription Email</a>
                    </div>
                </div>
                
                <script type="text/javascript">
                    $(document).ready(function() {
                        $(".toggle-table").on("click", function(e) {
                            e.preventDefault();
                
                            // Get the data-table attribute value
                            var tableName = $(this).data("table");
                
                            // Hide all tables initially
                            $("table").hide();
                
                            // Check if the clicked link is "See All Data"
                            if (tableName === "all-data") {
                                // Show all tables if "See All Data" is clicked
                                $("table").show();
                            } else {
                                // Show the table based on the clicked link's data-table attribute
                                $("." + tableName).show();
                            }
                        });
                    });
                </script>
                

                <table class="ask-tour-table">
                    <thead>
                        <!-- Table headers -->
                        <tr>
                            <th>Name</th>
                            <th>Phone Number</th>
                            <th>Email</th>
                            <th>Tour</th>
                            <th>Date of Departure</th>
                        </tr>
                    </thead>

                    <tbody>
                        {% for ask in ask_tour_database %}
                            <!-- Display SQL data -->
                            <tr>
                                <td>{{ ask.name }}</td>
                                <td>{{ ask.phone_number }}</td>
                                <td>{{ ask.email }}</td>
                                <td>{{ ask.tour }}</td>
                                <td>{{ ask.date_of_departure }}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
                
                <table class="booking-table">
                    <thead>
                        <tr>
                            <th>Guest Name</th>
                            <th>Number of Guests</th>
                            <th>Tour Name</th>
                            <th>Trip Length</th>
                            <th>Date of Departure</th>
                            <th>Trip Code</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for tour in booking_database %}
                        <tr>
                            <td>{{ tour.guest_name }}</td>
                            <td>{{ tour.number_of_guest }}</td>
                            <td>{{ tour.tour_name }}</td>
                            <td>{{ tour.trip_length }}</td>
                            <td>{{ tour.date_of_departure }}</td>
                            <td>{{ tour.trip_code }}</td>
                        </tr>
                        {% endfor %}

                        <!-- Add more rows for additional bookings -->
                    </tbody>
                </table>

                <table class="subscribe-email-table">
                    <thead>
                        <tr>
                            <th>Email </th>
                            <th>Date of Subscription</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for mail in subscription_database %}
                        <tr>
                            <td>{{ mail.email }}</td>
                            <td>{{ mail.subscription_date }}</td>
                        </tr>
                        {% endfor %}

                        <!-- Add more rows for additional bookings -->
                    </tbody>
                </table>

                <table class="user-table">
                    <thead>
                        <tr>
                            <th>User ID</th>
                            <th>Username</th>
                            <th>Email</th>
                            <!-- Add more columns as per your user data -->
                        </tr>
                    </thead>
                    <tbody>
                        {% for user in user_database %}
                        <tr>
                            <td>{{ user.id }}</td>
                            <td>{{ user.user_name }}</td>
                            <td>{{ user.email }}</td>
                            <!-- Add more table cells for additional user data -->
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>

            </section>
        </div>

        
                            
        <!--Footer-->
        <section id="contact">
            <div class="footer">
                <div class="main">
                    <div class="list">
                        <h4>Information</h4>
                        <ul>
                            <li><a href="#">About us</a></li>
                            <li><a href="#">Help</a></li>
                            <li><a href="/package">Package</a></li>
                        </ul>
                    </div>

                    <div class="list">
                        <h4>Policy</h4>
                        <ul>
                            <li><a href="#">Privacy Policy</a></li>
                            <li><a href="#">Terms & Conditions</a></li>
                        </ul>
                    </div>

                    <div class="list">
                        <h4>Contact</h4>
                        <ul>
                            <li><a href="#">98 West 21th Street</a></li>
                            <li><a href="#">New York NY 10016</a></li>
                            <li><a href="#">+1 (123)-456-7890</a></li>
                            <li><a href="#">info@domain.com</a></li>
                        </ul>
                    </div>
                    <div class="list">
                        <h4>Connect</h4>
                        <div class="social">
                            <a href="#"><i class='bx bxl-facebook'></i></a>
                            <a href="#"><i class='bx bxl-instagram'></i></a>
                            <a href="#"><i class='bx bxl-twitter' ></i></a>
                            <a href="#"><i class='bx bxl-linkedin' ></i></a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="end-text">
                <p>Copyright ©2023 All rights reserved | Made with by Uncle Tour</p>
            </div>
        </section>

        <!-- Progress Bar -->
        <button onclick="topFunction()" id="topBtn" title="Go to top">↑</button>
        <div class="progress-bar"></div>

        <!--Link to js-->
        <script type="text/javascript" src="/static/js/script.js"></script>        
    </body>

</html>